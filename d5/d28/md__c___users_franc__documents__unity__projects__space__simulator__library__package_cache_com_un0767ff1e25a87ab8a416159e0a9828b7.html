<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Space Simulator: OuterUnityTestAction</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Space Simulator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">OuterUnityTestAction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>OuterUnityTestAction</code> is a wrapper outside of the tests, which allows for any tests with this attribute to run code before and after the tests. This method allows for yielding commands in the same way as <code>UnityTest</code>. The attribute must inherit the <code>NUnit</code> attribute and implement <code>IOuterUnityTestAction</code>.</p>
<h1><a class="anchor" id="autotoc_md385"></a>
OuterUnityTestAction Example</h1>
<div class="fragment"><div class="line"> {c#}</div>
<div class="line">using System.Collections;</div>
<div class="line">using NUnit.Framework;</div>
<div class="line">using NUnit.Framework.Interfaces;</div>
<div class="line">using UnityEngine;</div>
<div class="line">using UnityEngine.TestTools;</div>
<div class="line"> </div>
<div class="line">public class MyTestClass</div>
<div class="line">{</div>
<div class="line">    [UnityTest, MyOuterActionAttribute]</div>
<div class="line">    public IEnumerator MyTestInsidePlaymode()</div>
<div class="line">    {</div>
<div class="line">        Assert.IsTrue(Application.isPlaying);</div>
<div class="line">        yield return null;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">public class MyOuterActionAttribute : NUnitAttribute, IOuterUnityTestAction</div>
<div class="line">{</div>
<div class="line">    public IEnumerator BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        yield return new EnterPlayMode();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public IEnumerator AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        yield return new ExitPlayMode();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md386"></a>
Execution order</h1>
<p><a class="el" href="../../d3/dda/namespace_unity.html">Unity</a> outer test action is not rerun on domain reload but non-Unity action attributes are:</p>
<p><img src="../.././images/execution-order-outerunitytestaction.svg" alt="OuterUnityTestAction Execution Order" style="pointer-events: none;" class="inline"/></p>
<blockquote class="doxtable">
<p><b>Note</b>: Some browsers do not support SVG image files. If the image above does not display properly (for example, if you cannot see any text), please try another browser, such as <a href="https://www.google.com/chrome/">Google Chrome</a> or <a href="https://www.mozilla.org">Mozilla Firefox</a>. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md387"></a>
Test actions with domain reload example</h2>
<div class="fragment"><div class="line">using NUnit.Framework.Interfaces;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">public class TestActionOnSuiteAttribute : NUnitAttribute, ITestAction</div>
<div class="line">{</div>
<div class="line">    public void BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;TestAction OnSuite BeforeTest&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public void AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public ActionTargets Targets { get { return ActionTargets.Suite; } }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">public class TestActionOnTestAttribute : NUnitAttribute, ITestAction</div>
<div class="line">{</div>
<div class="line">    public void BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;TestAction OnTest BeforeTest&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public void AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;TestAction OnTest AfterTest&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public ActionTargets Targets { get { return ActionTargets.Test; } }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">public class OuterTestAttribute : NUnitAttribute, IOuterUnityTestAction</div>
<div class="line">{</div>
<div class="line">    public IEnumerator BeforeTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;OuterTestAttribute BeforeTest&quot;);</div>
<div class="line">        yield return null;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    public IEnumerator AfterTest(ITest test)</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;OuterTestAttribute AfterTest&quot;);</div>
<div class="line">        yield return null;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[TestActionOnSuite]</div>
<div class="line">public class ActionOrderTestBase</div>
<div class="line">{</div>
<div class="line">    [Test, OuterTest, TestActionOnTest]   </div>
<div class="line">    public void UnitTest()</div>
<div class="line">    {</div>
<div class="line">        Debug.Log(&quot;Test&quot;);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    [UnityTest, OuterTest, TestActionOnTest]</div>
<div class="line">    public IEnumerator UnityTestWithDomainReload()</div>
<div class="line">    {</div>
<div class="line">        Log(&quot;Test part 1&quot;);</div>
<div class="line">        yield return new EnterPlayMode(); </div>
<div class="line">        //Domain reload</div>
<div class="line">        yield return new ExitPlayMode();</div>
<div class="line">        Log(&quot;Test part 2&quot;);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
